Configurar la sincronizaci√≥n con rsync
En el servidor primario (donde los archivos se generan):


mkdir -p /home/weker/sync_folder  # Crear la carpeta de sincronizaci√≥n
En el servidor secundario (donde se replicar√°n los archivos):


mkdir -p /home/weker/sync_folder  # Crear la misma carpeta en el secundario
Ahora, en el servidor primario, ejecuta manualmente rsync para probar la sincronizaci√≥n:


rsync -avz /home/weker/sync_folder/ weker@IP_DEL_SECUNDARIO:/home/weker/sync_folder/
‚ö†Ô∏è Reemplaza IP_DEL_SECUNDARIO con la direcci√≥n IP del servidor secundario

Si esto funciona, puedes automatizarlo con cron.

2Ô∏è‚É£ Configurar la sincronizaci√≥n autom√°tica con cron
Edita el crontab en el servidor primario:


crontab -e
Agrega la siguiente l√≠nea para ejecutar rsync cada minuto:


* * * * * rsync -avz /home/weker/sync_folder/ weker@IP_DEL_SECUNDARIO:/home/weker/sync_folder/ > /home/weker/sync_log.txt 2>&1
Explicaci√≥n:

* * * * * ‚Üí Se ejecuta cada minuto
rsync -avz ‚Üí Sincroniza en modo archivos y subdirectorios
> /home/weker/sync_log.txt 2>&1 ‚Üí Guarda la salida en un archivo de log
Guarda y cierra el archivo.

3Ô∏è‚É£ Prueba si la sincronizaci√≥n funciona correctamente
En el servidor primario, crea un archivo de prueba:


touch /home/weker/sync_folder/test_file.txt
Espera un minuto y revisa en el servidor secundario:


ls -l /home/weker/sync_folder/
Si el archivo aparece en el secundario, la sincronizaci√≥n funciona correctamente. üöÄ

4Ô∏è‚É£ Verificaci√≥n de cron si hay problemas
Si el archivo no aparece en el secundario, revisa el log de cron en el servidor primario:

sudo tail -f /var/log/cron
Si cron no est√° funcionando, intenta reiniciarlo:


sudo systemctl restart crond
sudo systemctl enable crond